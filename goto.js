auth.onAuthStateChanged(e=>{if(e){const i=document.getElementById("logout"),d=(document.getElementById("all"),document.getElementById("chatstuff")),u=document.getElementById("emojipicker");var t=document.getElementById("inputmessage"),n=new EmojiButton({posistion:"left-top"});n.on("emoji",function(e){t.value+=e}),u.addEventListener("click",function(){n.pickerVisible?n.hidePicker():n.showPicker(t)}),i.addEventListener("click",function(){auth.signOut()});const s=document.getElementById("deletememo"),c=document.getElementById("notes"),m=document.getElementById("savememo"),a=document.getElementById("boldmemo"),y=document.getElementById("italicmemo");let r,g,f=0;c.addEventListener("click",function(){const t=document.getElementById("notepad");a.addEventListener("click",function(){firestore.collection("users").doc(e.uid).get().then(n=>{"bold"==n.data().fontWeight?(t.style.fontWeight="normal",r="normal"):(t.style.fontWeight="bold",r="bold"),firestore.collection("users").doc(e.uid).update({fontWeight:r})})}),y.addEventListener("click",function(){firestore.collection("users").doc(e.uid).get().then(n=>{"bold"==n.data().fontWeight?(t.style.fontStyle="normal",g="normal"):(t.style.fontStyle="italic",g="italic"),firestore.collection("users").doc(e.uid).update({fontWeight:r})})}),s.addEventListener("click",function(){t.value=""}),m.addEventListener("click",function(){firestore.collection("users").doc(e.uid).update({Notes:document.getElementById("notepad").value})}),t.style.display="block",document.getElementById("notestuff").style.display="block",firestore.collection("users").doc(e.uid).get().then(e=>{let n=e.data(),l=n.Notes;t.innerText=l,t.style.fontWeight=n.fontWeight,t.style.fontStyle=n.fontStyle}),setInterval(function(){firestore.collection("users").doc(e.uid).update({Notes:document.getElementById("notepad").value})},3e3)}),document.getElementById("chat").addEventListener("click",function(){d.style.display="block",document.getElementById("notestuff").style.display="none",document.getElementById("timerstuff").style.display="none"}),c.addEventListener("click",function(){document.getElementById("chatstuff").style.display="none",document.getElementById("notestuff").style.display="block",document.getElementById("timerstuff").style.display="none"}),document.getElementById("timer").addEventListener("click",function(){d.style.display="none",document.getElementById("notestuff").style.display="none",document.getElementById("timerstuff").style.display="block"});const E=document.getElementById("starttimer"),p=document.getElementById("canceltimer"),I=document.getElementById("timert"),B=document.getElementById("inputtime");var l,o=!1;document.getElementsByClassName("inputgh")[0].onkeyup=function(e){var t=e.srcElement||e.target,n=parseInt(t.attributes.maxlength.value,10),l=t.value.length;if(l>=n){for(var o=t;(o=o.nextElementSibling)&&null!=o;)if("input"===o.tagName.toLowerCase()){o.focus();break}}else if(0===l)for(var i=t;(i=i.previousElementSibling)&&null!=i;)if("input"===i.tagName.toLowerCase()){i.focus();break}},p.addEventListener("click",function(){B.style.display="block",I.style.display="none",document.getElementById("edre").style.display="block",document.getElementById("eeed").style.display="block",document.getElementById("pausetimer").style.display="none",document.getElementById("starttimer").style.display="inline-block",document.getElementById("inputtimehour").value="",document.getElementById("inputtimeminute").value="",document.getElementById("inputtimesecond").value="",clearInterval(l)}),document.getElementById("pausetimer").addEventListener("click",function(){"Pause"==document.getElementById("pausetimer").innerText?(document.getElementById("pausetimer").innerText="Unpause",o=!0):(o=!1,document.getElementById("pausetimer").innerText="Pause")}),E.addEventListener("click",function(){if(""==B.value)B.style.border="1px solid red";else{document.getElementById("edre").style.display="none",document.getElementById("eeed").style.display="none",document.getElementById("timerbutton").style.display="block",document.getElementById("pausetimer").style.display="inline-block",document.getElementById("starttimer").style.display="none",I.style.display="block",l&&clearInterval(l);let e=3600*document.getElementById("inputtimehour").value,t=e+60*document.getElementById("inputtimeminute").value+document.getElementById("inputtimesecond").value,n=60*document.getElementById("inputtimeminute").value;l=setInterval(function(){!function(e,t,n){if(0==o){if(e<=0)return void(I.innerHTML="Times Up");{let l=e%60;Minutes=Math.floor(n/60);let o=Math.floor(t/3600);Minutes<0&&(Minutes=0),f<0&&t%3600==0&&(Minutes=59),o=o<10?"0"+o:o,Minutes=Minutes<10?"0"+Minutes:Minutes,l=l<10?"0"+l:l,I.innerHTML=`${o}:${Minutes}:${l}`,f+=1}}}(t-f,e-f+1,n-f+1)},1e3)}})}});