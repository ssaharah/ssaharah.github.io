<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-firestore.js"></script>
    <link rel="stylesheet" href="Take_Picture.css">
    <script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>
    <link rel="icon" href="Images/1228917a-cb83-495c-9f3a-c7bb035829f0_200x200.png">
    <title>Take A Picture</title>
</head>
<body id="body" >
    <button id="Take_Picture">Take Picture</button>
</body>
<script>
    var firebaseConfig = {
            apiKey: "AIzaSyCoK1APEkbi7HzfGekPgAVX8l8q6BLmL50",
            authDomain: "sahara-8bfbe.firebaseapp.com",
            databaseURL: "https://sahara-8bfbe.firebaseio.com",
            projectId: "sahara-8bfbe",
            storageBucket: "sahara-8bfbe.appspot.com",
            messagingSenderId: "247681289351",
            appId: "1:247681289351:web:c75c7b2fc405a19e1e3c22",
            measurementId: "G-Q1E5WQHV8G"
        };
    firebase.initializeApp(firebaseConfig);
    const firestore = firebase.firestore();
    document.body.style.zoom=3.0;this.blur();
    function setup(){
        noCanvas();
        const video = createCapture(VIDEO);
        video.size(320,240);
        Take_Picture.addEventListener('click', function(){
            video.loadPixels();
            const base64= video.canvas.toDataURL();
            firestore.collection('users').doc(localStorage.getItem('user')).update({
                Profile: base64
            });
            
        });
    }
</script>
</html>
